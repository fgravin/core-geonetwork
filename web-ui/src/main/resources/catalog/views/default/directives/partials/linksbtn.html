<!--
  ~ Copyright (C) 2001-2016 Food and Agriculture Organization of the
  ~ United Nations (FAO-UN), United Nations World Food Programme (WFP)
  ~ and United Nations Environment Programme (UNEP)
  ~
  ~ This program is free software; you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation; either version 2 of the License, or (at
  ~ your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but
  ~ WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program; if not, write to the Free Software
  ~ Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA
  ~
  ~ Contact: Jeroen Ticheler - FAO - Viale delle Terme di Caracalla 2,
  ~ Rome - Italy. email: geonetwork@osgeo.org
  -->

<div class="gn-md-links">
  <!--Edit button-->
  <a class="gn-md-edit-btn"
     data-ng-show="user.canEditRecord(md)"
     data-ng-href="catalog.edit#/metadata/{{md['geonet:info'].id}}"
     title="{{'edit' | translate}}">
    <i class="fa fa-pencil"></i>
  </a>

  <div class="btn-group"
       data-ng-class="::links.length > 0 ? '' : 'hidden'">
    <button type="button"
            class="btn btn-default dropdown-toggle"
            data-toggle="dropdown"
            title="{{'weblink' | translate}}">
      <span class="fa fa-link"></span>
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" role="menu">
      <li ng-repeat="link in ::links">
        <a href="{{::link.url}}"
           target="_blank">{{::link.desc}}</a>
      </li>
    </ul>
  </div>

  <div class="btn-group"
       data-ng-if="isMapViewerEnabled && layers.length > 1">
    <button type="button"
            class="btn btn-default dropdown-toggle"
            data-toggle="dropdown"
            title="{{'layers' | translate}}">
      <span class="fa fa-globe"></span>
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" role="menu">
      <li ng-repeat="layer in ::layers">
        <a href="" data-ng-click="resultviewFns.addMdLayerToMap(layer, md)">
                  <!--<span class="fa fa-google"
                        data-ng-if="layer.contentType=='application/vnd.google-earth.kml+xml'"></span>-->
                  <span class="fa fa-globe"
                        data-ng-if="layer.contentType=='application/vnd.ogc.wms_xml'"></span>
          &nbsp;{{::layer.desc}}</a></li>
      <li data-ng-show="layers.length > 1"
          class="divider"></li>
      <li data-ng-show="layers.length > 1">
        <a href=""
           data-ng-click="resultviewFns.addAllMdLayersToMap(layers, md)">
          <i class="fa fa-plus"></i>&nbsp;
                  <span data-translate=""
                        data-translate-values="{number: '{{layers.length}}'}">
                    addAllLayersToMap</span>
        </a>
      </li>
    </ul>
  </div>
  <button type="button"
          class="btn btn-default"
          data-ng-disabled="md['geonet:info'].dynamic == 'false'"
          data-ng-if="isMapViewerEnabled && layers.length == 1"
          data-ng-click="resultviewFns.addMdLayerToMap(layers[0], md)"
          title="{{'view' | translate}}">
    <span class="fa fa-globe"></span>
  </button>


  <div class="btn-group"
       data-ng-if="isMapViewerEnabled"
       data-ng-class="maps.length > 0 ? '' : 'invisible'">
    <button type="button"
            class="btn btn-default dropdown-toggle"
            data-toggle="dropdown"
            title="{{'maps' | translate}}">
      <span class="fa fa-map-marker"></span>
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" role="menu">
      <li ng-repeat="map in ::maps">
        <a href="" data-ng-click="resultviewFns.loadMap(map, md)">
          <span class="fa fa-map-marker"></span>
          &nbsp;{{map.desc || map.name}}</a></li>
    </ul>
  </div>

  <div class="btn-group"
       data-ng-class="::downloads.length > 0 ? '' : 'hidden'">
    <button type="button"
            class="btn btn-default dropdown-toggle"
            data-toggle="dropdown"
            title="{{'downloads' | translate}}">
      <span class="fa fa-download"></span>
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" role="menu">
      <li ng-repeat="link in ::downloads">
        <a href="{{::link.url}}"
           title="{{::link.desc}}"
           target="_blank">
                  <span class="fa fa-file-zip-o"
                        data-ng-if="link.contentType=='application/zip'"></span>
          {{link.desc || (link.name + ' - ' + link.contentType) }}</a>
      </li>
    </ul>
  </div>
</div>
