<!--
  ~ Copyright (C) 2001-2016 Food and Agriculture Organization of the
  ~ United Nations (FAO-UN), United Nations World Food Programme (WFP)
  ~ and United Nations Environment Programme (UNEP)
  ~
  ~ This program is free software; you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation; either version 2 of the License, or (at
  ~ your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but
  ~ WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program; if not, write to the Free Software
  ~ Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301, USA
  ~
  ~ Contact: Jeroen Ticheler - FAO - Viale delle Terme di Caracalla 2,
  ~ Rome - Italy. email: geonetwork@osgeo.org
  -->

<div class="container-fluid"
     data-ng-search-form=""
     data-runSearch="true">
  <div data-ng-include="'../../catalog/views/default/templates/searchForm.html'"></div>

  <div class="row"
       data-ng-show="searchResults.records.length > 0">
    <div class="col-md-offset-3 col-md-3 relative">
      <div data-gn-selection-widget=""
           data-results="searchResults"></div>
    </div>
    <div class="col-md-6">
      <div class="pull-right"
           data-gn-pagination="paginationInfo"
           data-hits-values="searchObj.hitsperpageValues"
           data-enable-hot-keys=""></div>

      <div class="pull-right"
           data-sortby-combo=""
           data-params="searchObj.params"
           data-gn-sortby-values="searchObj.sortbyValues"></div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3 gn-search-facet">

      <!-- Hierachical facet mode -->
      <div data-ng-show="searchResults.records.length > 0"
           data-gn-facet-dimension-list="searchResults.dimension"
           data-params="searchObj.params"
           data-facet-type="facetsSummaryType"
           data-current-facets="currentFacets">
      </div>

      <!-- Flat facet mode (deprecated)
      <div data-ng-show="searchResults.records.length > 0"
           data-gn-facet-list="searchResults.facet"
           data-params="searchObj.params"
           data-facet-config="facetsSummaryType"
           data-current-facets="currentFacets">
      </div>-->
    </div>
    <div class="col-md-9">
      <!-- Flat facet mode (deprecated)
      <div class="gn-results-heading">
        <div data-gn-facet-breadcrumb="currentFacets"></div>
      </div>-->
      <span class="loading fa fa-spinner fa-spin"
            data-ng-show="searching"></span>

      <div class="alert alert-warning" role="alert"
           ng-if="!searching && searchResults.count == 0">
        <i class="fa fa-frown-o"></i>
        <span data-translate="">zarooResult</span>
      </div>

      <div data-ng-show="searchResults.records.length > 0"
           data-gn-results-container=""
           data-search-results="searchResults"
           data-template-url="resultTemplate"
           data-map="searchObj.searchMap"></div>

    </div>
  </div>

  <div data-gn-map-field="searchObj.searchMap"
       data-gn-map-field-geom="searchObj.params.geometry"
       data-gn-map-field-opt="searchObj.mapfieldOption"
       class="gn-search-map">
  </div>

  <button data-ng-click="toggleMap()"
          title="{{'toggleMiniMap' | translate}}"
          class="gn-minimap-toggle btn btn-link">
    <i class="fa fa-angle-double-right"></i>
  </button>
</div>
