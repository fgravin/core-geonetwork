<ul class="list-group gn-resultview gn-resultview-sumup">
  <li class="list-group-item gn-grid sxt-col-md-6 sxt-col-lg-4"
      data-ng-repeat="md in searchResults.records"
      data-sxt-fix-mdlinks=""
      data-gn-displayextent-onhover=""
      data-gn-zoomto-onclick="">

      <div class="gn-grid-item">


          <!--Edit button-->
          <!-- <a class="gn-md-edit-btn" data-ng-show="user.canEditRecord(md)" data-ng-href="catalog.edit#/metadata/{{md['geonet:info'].id}}" title="{{'edit' | translate}}"> -->
          <!--   <i class="fa fa-pencil"></i> -->
          <!-- </a> -->

        <div class="row gn-md-title">

          <!--Icon for types - usually only one-->
          <span class="pull-left fa" data-ng-class="md.icon.cls"
                title="{{md.icon.title | translate}}"></span>

          <h4 title="{{md.title || md.defaultTitle}}">
            <a  href="md.viewer#/full_view/{{md.getUuid()}}" gn-metadata-open="md">
              {{(md.title || md.defaultTitle) | characters : 100}}</a>
          </h4>

        </div>


        <div class="gn-md-details" title="{{(md.abstract || md.defaultAbstract) | striptags}}">

            <!-- Thumbnail -->
            <div class="gn-md-thumbnail" ng-class="{'gn-md-emptythumbnail': !md.getThumbnails().small }">
              <img gn-img-modal="md" class="gn-img-thumbnail" data-ng-src="{{md.getThumbnails().small}}" data-ng-if="md.getThumbnails().small"/>
            </div>

            <div class="text-justify md-abstract ellipsis">
              <div>
                <p>{{(md.abstract || md.defaultAbstract) | striptags}}</p>
              </div>
            </div>

            <p data-ng-if="md.getContacts().resource" class="gn-md-source">
              <!--<h5 data-translate="">contacts</h5>-->
              Source: {{::md.getContacts().resource}}
            </p>

          </div>


      <div class="sx-md-footer">

        <div class="gn-md-relations" ng-if="md.type == 'series'">
          <div gn-related="{{md.getUuid()}}" types="parent|children"
               template="../../catalog/views/sextant/templates/related.html"></div>
         </div>

        <div class="gn-md-links">

          <div class="btn-group pull-right" ng-if="links.length > 0">
            <button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown" title="{{'links' | translate}}">
              <span class="fa fa-link"></span>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li ng-repeat="link in links">
                <a href="{{link.url}}" target="_blank">{{link.desc}}</a></li>
            </ul>
          </div>

          <!--Downloads to panier button-->
          <div class="btn-group pull-right" ng-if="downloads.length > 1">
            <button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown" title="{{'download' | translate}}" data-ng-disabled="md['geonet:info'].download == 'false'">
              <span class="fa fa-download"></span>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li ng-repeat="link in downloads">
                <a href="" ng-click="resultviewFns.addMdLayerToPanier(link, md)" title="{{link.desc || (link.name + ' - ' + link.contentType)}}">
                  <span class="fa fa-file-zip-o" ng-if="link.contentType=='application/zip'"></span>
                  {{link.desc || (link.name + ' - ' + link.contentType) }} </a></li>
              <li class="divider"></li>
              <li>
                <a href="" data-ng-click="resultviewFns.addAllMdLayersToPanier(downloads, md)">
                  <i class="fa fa-plus"></i>&nbsp;
                  <span data-translate=""
                        data-translate-values="{number: '{{downloads.length}}'}">
                    addAllLayersToPanier</span>
                </a>
              </li>

            </ul>
          </div>
          <button type="button" class="btn btn-default btn-sm pull-right" data-ng-disabled="md['geonet:info'].download == 'false'"
                  ng-if="downloads.length == 1" ng-click="resultviewFns.addMdLayerToPanier(downloads[0], md)" title="{{'download' | translate}}">
            <span class="fa fa-download"></span>
          </button>


          <!--Layers to map button-->
          <div class="btn-group pull-right" ng-if="layers.length > 1 ">
            <button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown" title="{{'view' | translate}}" data-ng-disabled="md['geonet:info'].dynamic == 'false'">
              <span class="fa fa-globe"></span>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li ng-repeat="layer in layers"><a href="" ng-click="resultviewFns.addMdLayerToMap(layer, md)" title="{{layer.desc || layer.name}}">
                <span class="fa fa-google" ng-if="layer.contentType=='application/vnd.google-earth.kml+xml'"></span>
                <span class="fa fa-globe" ng-if="layer.contentType=='application/vnd.ogc.wms_xml' || layer.contentType=='OGC:WMTS'"></span>
                {{layer.desc || layer.name}} </a></li>
              <li class="divider"></li>
              <li>
                <a href="" data-ng-click="resultviewFns.addAllMdLayersToMap(layers, md)">
                <i class="fa fa-plus"></i>&nbsp;
                  <span data-translate=""
                        data-translate-values="{number: '{{layers.length}}'}">
                    addAllLayersToMap</span>
              </a>
              </li>
            </ul>
          </div>
          <button type="button" class="btn btn-default btn-sm pull-right" data-ng-disabled="md['geonet:info'].dynamic == 'false'"
                  ng-if="layers.length == 1" ng-click="resultviewFns.addMdLayerToMap(layers[0], md)" title="{{'view' | translate}}">
            <span class="fa fa-globe"></span>
          </button>

          <!--admin button-->
          <div class="btn-group pull-right md-actions" ng-if="user.canEditRecord(md)">
            <button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown" title="{{'admin' | translate}}">
              <span class="fa fa-gear"></span>
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">
              <li data-ng-if="md.standardName.indexOf('MedSea') >= 0"><a ng-href="catalog.edit#/metadata/{{md['geonet:info'].id}}" target="_blank"><i class="fa fa-pencil"></i><span translate>edit</span></a></li>
              <li data-ng-if="!md.standardName || md.standardName.indexOf('MedSea') < 0"><a ng-href="../../apps/sextant/?edit={{md['geonet:info'].id}}" target="_blank"><i class="fa fa-pencil"></i><span translate>edit</span></a></li>

              <li><a ng-click="mdService.deleteMd(md)"><i class="fa fa-trash-o"></i><span translate>delete</span></a></li>
              <li><a ng-href="" data-ng-click="mdService.duplicate(md)"><i class="fa fa-copy"></i><span translate>duplicate</span></a></li>
              <li><a ng-href="" data-ng-click="mdService.createChild(md)"><i class="fa fa-sitemap"></i><span translate>createChild</span></a></li>
              <li><a ng-href="" data-ng-click="mdService.openPrivilegesPanel(md, getCatScope())"><i class="fa fa-key"></i><span translate>privileges</span></a></li>
            </ul>
          </div>

        </div>


      </div> <!-- .gn-md-links -->

      </div> <!-- .sx-md-footer -->

        </div>


    </li>
</ul>
